<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition template="/WEB-INF/templates/page-layout.xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:b="http://bootsfaces.net/ui">

    <ui:param name="pageHeadline" value="${msg.participantListEditHeadline}"/>
    <ui:define name="metadata">
        <f:verbatim>
            <script type="text/javascript">
                function closeParticipantModal() {
                    $('#participantModal').modal('hide');
                }
            </script>
        </f:verbatim>
    </ui:define>

    <ui:define name="content">
        <h:link outcome="manageParticipantListPage" value="${msg.pollEditBackToList}"/>
        <b:alert severity="success" rendered="${editParticipantListBean.success}">
                ${msg.participantListEditSuccessMessage}
        </b:alert>
        <b:alert severity="danger" rendered="${editParticipantListBean.failure}">
            ${msg.participantListEditFailureMessage}<br/>
            ${editParticipantListBean.failureMessage}
        </b:alert>

        <b:form id="participantListEditForm" class="card-body cardbody-color p-lg-5" horizontal="true">

            <b:row>
                <b:inputText span="6" label-col-md="2" id="name" label="${msg.listNameLabel}" value="#{editParticipantListBean.currentParticipantListDto.name}" required="true"/>
                <h:message for="name" class="text-danger mt-2"/>
            </b:row>

            <b:row>
                <b:inputTextarea span="6" label-col-md="2" id="emails" label="${msg.listEmailsLabel}" value="#{editParticipantListBean.emails}" required="true"/>
                <h:message for="emails" class="text-danger mt-2"/>
            </b:row>


            <b:row class="topsep">
                <div class="col-md-4 col-md-offset-2">
                    <b:commandButton id="saveChangesButton" icon="check"
                                     look="success"
                                     action="#{editParticipantListBean.updateParticipantList()}"
                                     value="${msg.pollEditSaveChangesButtonLabel}" />
                </div>
            </b:row>
        </b:form>
    </ui:define>
    
    
</ui:composition>
